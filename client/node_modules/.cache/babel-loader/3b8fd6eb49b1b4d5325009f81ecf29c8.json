{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dumbways\\\\stage 2\\\\z-project\\\\client\\\\src\\\\components\\\\add-book.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport styleCss from \"./addbook.module.css\";\nimport React, { useState } from \"react\";\nimport { Popover, Overlay } from \"react-bootstrap\";\nimport { useRef } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { API } from '../config/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Tool() {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n  };\n\n  const addBook = useNavigate();\n\n  const Click = () => {\n    addBook(\"/transaction\");\n  };\n\n  const out = useNavigate();\n\n  const push = () => {\n    out(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      onClick: handleClick,\n      src: \"assets/ppadmin.png\",\n      alt: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n      show: show,\n      target: target,\n      placement: \"bottom\",\n      container: ref,\n      containerPadding: 20,\n      children: /*#__PURE__*/_jsxDEV(Popover, {\n        id: \"popover-contained\",\n        children: /*#__PURE__*/_jsxDEV(Popover.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styleCss.add,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: styleCss.book,\n              src: \"assets/dropbook.png\",\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styleCss.addBook,\n              children: \"Edit Book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: styleCss.garis\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: push,\n            className: styleCss.out,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: styleCss.outDrop,\n              src: \"assets/logoutdrop.png\",\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styleCss.log,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Tool, \"zjLrg7tj/7Ao0/OVM19txHTV8Vk=\", false, function () {\n  return [useNavigate, useNavigate];\n});\n\n_c = Tool;\n\nfunction AddBookPage() {\n  _s2();\n\n  console.clear();\n  let navigate = useNavigate();\n  const [preview, setPreview] = useState(null); //For image preview\n  // Store data with useState here ...\n\n  const [form, setForm] = useState({\n    title: \"\",\n    publicationDate: \"\",\n    pages: \"\",\n    author: \"\",\n    isbn: \"\",\n    about: \"\",\n    bookFile: \"\"\n  }); // Handle change data on form\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value\n    }); // Create image url for preview\n\n    if (e.target.type === \"file\") {\n      let url = URL.createObjectURL(e.target.files[0]);\n      setPreview(url);\n    }\n  };\n\n  const handleSubmit = async e => {\n    try {\n      e.preventDefault(); // Create Configuration Content-type here ...\n      // Content-type: multipart/form-data\n\n      const config = {\n        headers: {\n          \"Content-type\": \"multipart/form-data\"\n        }\n      }; // Create store data with FormData as object here ...\n\n      const formData = new FormData();\n      formData.set(\"title\", form.title);\n      formData.set(\"date\", form.publicationDate);\n      formData.set(\"page\", form.pages);\n      formData.set(\"author\", form.author);\n      formData.set(\"isbn\", form.isbn);\n      formData.set(\"about\", form.about);\n      formData.set(\"image\", form.bookFile[0], form.bookFile[0].filename); // Insert product data here ...\n\n      const response = await API.post('/book', formData, config);\n      console.log(response);\n      navigate(\"/transaction\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const addBook = useNavigate();\n\n  const Click = () => {\n    addBook(\"/transaction\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styleCss.latar,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styleCss.navbar,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styleCss.kiri,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: Click,\n          className: styleCss.wow,\n          src: \"assets/icon2.png\",\n          alt: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styleCss.kanan,\n        children: /*#__PURE__*/_jsxDEV(Tool, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styleCss.formGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: styleCss.head,\n        children: \"Add Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: styleCss.addForm,\n        children: [preview && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: preview,\n            style: {\n              maxWidth: \"150px\",\n              maxHeight: \"150px\",\n              objectFit: \"cover\"\n            },\n            alt: \"preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"Title\",\n          name: \"title\",\n          onChange: handleChange,\n          placeholder: \"Title\",\n          className: styleCss.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"Publication Date\",\n          name: \"date\",\n          onChange: handleChange,\n          placeholder: \"Publication Date\",\n          className: styleCss.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"Page\",\n          placeholder: \"Page\",\n          name: \"page\",\n          onChange: handleChange,\n          className: styleCss.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"Author\",\n          placeholder: \"Author\",\n          name: \"author\",\n          onChange: handleChange,\n          className: styleCss.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"Isbn\",\n          placeholder: \"ISBN\",\n          name: \"isbn\",\n          onChange: handleChange,\n          className: styleCss.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          id: \"About\",\n          placeholder: \"About This Book\",\n          name: \"about\",\n          onChange: handleChange,\n          className: styleCss.about\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: styleCss.fileGroup,\n          children: \"Attache Book File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"acnu\",\n          name: \"image\",\n          onChange: handleChange,\n          className: styleCss.input1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styleCss.tambah,\n          type: \"submit\",\n          id: \"acnu\",\n          children: \"Add Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(AddBookPage, \"YyPNl0WJfp4iYaeihG6N1m5iE84=\", false, function () {\n  return [useNavigate, useNavigate];\n});\n\n_c2 = AddBookPage;\nexport default AddBookPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Tool\");\n$RefreshReg$(_c2, \"AddBookPage\");","map":{"version":3,"sources":["D:/Dumbways/stage 2/z-project/client/src/components/add-book.js"],"names":["styleCss","React","useState","Popover","Overlay","useRef","useNavigate","API","Tool","show","setShow","target","setTarget","ref","handleClick","event","addBook","Click","out","push","add","book","garis","outDrop","log","AddBookPage","console","clear","navigate","preview","setPreview","form","setForm","title","publicationDate","pages","author","isbn","about","bookFile","handleChange","e","name","type","files","value","url","URL","createObjectURL","handleSubmit","preventDefault","config","headers","formData","FormData","set","filename","response","post","error","latar","navbar","kiri","wow","kanan","formGroup","head","addForm","maxWidth","maxHeight","objectFit","input","fileGroup","input1","tambah"],"mappings":"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","sourcesContent":["import styleCss from \"./addbook.module.css\";\r\nimport React, { useState } from \"react\";\r\nimport { Popover, Overlay } from \"react-bootstrap\"\r\nimport { useRef } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API } from '../config/api'\r\n\r\nfunction Tool() {\r\n    const [show, setShow] = useState(false);\r\n    const [target, setTarget] = useState(null);\r\n    const ref = useRef(null);\r\n\r\n    const handleClick = (event) => {\r\n        setShow(!show);\r\n        setTarget(event.target);\r\n    };\r\n\r\n    const addBook = useNavigate()\r\n    const Click = () => {\r\n        addBook(\"/transaction\")\r\n    }\r\n\r\n    const out = useNavigate()\r\n    const push = () => {\r\n        out(\"/\")\r\n    }\r\n\r\n    return (\r\n        <div ref={ref}>\r\n            <img onClick={handleClick} src=\"assets/ppadmin.png\" alt=\"logo\" />\r\n\r\n            <Overlay\r\n                show={show}\r\n                target={target}\r\n                placement=\"bottom\"\r\n                container={ref}\r\n                containerPadding={20}\r\n            >\r\n                <Popover id=\"popover-contained\">\r\n                    <Popover.Body>\r\n                        <div className={styleCss.add}>\r\n                            <img className={styleCss.book} src=\"assets/dropbook.png\" alt=\"logo\" />\r\n                            <p className={styleCss.addBook}>Edit Book</p>\r\n                        </div>\r\n\r\n                        <hr className={styleCss.garis} />\r\n\r\n                        <div onClick={push} className={styleCss.out}>\r\n                            <img className={styleCss.outDrop} src=\"assets/logoutdrop.png\" alt=\"logo\" />\r\n                            <p className={styleCss.log}>Logout</p>\r\n                        </div>\r\n\r\n                    </Popover.Body>\r\n                </Popover>\r\n            </Overlay>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AddBookPage() {\r\n    console.clear();\r\n    let navigate = useNavigate();\r\n    const [preview, setPreview] = useState(null); //For image preview\r\n\r\n    // Store data with useState here ...\r\n    const [form, setForm] = useState({\r\n        title: \"\",\r\n        publicationDate: \"\",\r\n        pages: \"\",\r\n        author: \"\",\r\n        isbn: \"\",\r\n        about: \"\",\r\n        bookFile: \"\"\r\n    })\r\n\r\n    // Handle change data on form\r\n    const handleChange = (e) => {\r\n        setForm({\r\n            ...form,\r\n            [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value,\r\n        });\r\n\r\n        // Create image url for preview\r\n        if (e.target.type === \"file\") {\r\n            let url = URL.createObjectURL(e.target.files[0]);\r\n            setPreview(url);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n\r\n            // Create Configuration Content-type here ...\r\n            // Content-type: multipart/form-data\r\n            const config = {\r\n                headers: {\r\n                    \"Content-type\": \"multipart/form-data\"\r\n                }\r\n            }\r\n\r\n            // Create store data with FormData as object here ...\r\n            const formData = new FormData()\r\n            formData.set(\"title\", form.title)\r\n            formData.set(\"date\", form.publicationDate)\r\n            formData.set(\"page\", form.pages)\r\n            formData.set(\"author\", form.author)\r\n            formData.set(\"isbn\", form.isbn)\r\n            formData.set(\"about\", form.about)\r\n            formData.set(\"image\", form.bookFile[0], form.bookFile[0].filename)\r\n\r\n            // Insert product data here ...\r\n            const response = await API.post('/book', formData, config)\r\n\r\n            console.log(response);\r\n\r\n            navigate(\"/transaction\");\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    const addBook = useNavigate()\r\n    const Click = () => {\r\n        addBook(\"/transaction\")\r\n    }\r\n\r\n    return (\r\n        <div className={styleCss.latar}>\r\n            <div className={styleCss.navbar}>\r\n\r\n                <div className={styleCss.kiri}>\r\n                    <img onClick={Click} className={styleCss.wow} src=\"assets/icon2.png\" alt=\"Logo\" />\r\n                </div>\r\n\r\n                <div className={styleCss.kanan}>\r\n                    <Tool />\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className={styleCss.formGroup}>\r\n                <p className={styleCss.head}>Add Book</p>\r\n\r\n                <form onSubmit={handleSubmit} className={styleCss.addForm}>\r\n                    {preview && (\r\n                        <div>\r\n                            <img\r\n                                src={preview}\r\n                                style={{\r\n                                    maxWidth: \"150px\",\r\n                                    maxHeight: \"150px\",\r\n                                    objectFit: \"cover\",\r\n                                }}\r\n                                alt=\"preview\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    <input type=\"text\" id=\"Title\" name=\"title\" onChange={handleChange} placeholder=\"Title\" className={styleCss.input} />\r\n                    <input type=\"date\" id=\"Publication Date\" name=\"date\" onChange={handleChange} placeholder=\"Publication Date\" className={styleCss.input} />\r\n                    <input type=\"text\" id=\"Page\" placeholder=\"Page\" name=\"page\" onChange={handleChange} className={styleCss.input} />\r\n                    <input type=\"text\" id=\"Author\" placeholder=\"Author\" name=\"author\" onChange={handleChange} className={styleCss.input} />\r\n                    <input type=\"text\" id=\"Isbn\" placeholder=\"ISBN\" name=\"isbn\" onChange={handleChange} className={styleCss.input} />\r\n                    <textarea type=\"text\" id=\"About\" placeholder=\"About This Book\" name=\"about\" onChange={handleChange} className={styleCss.about} />\r\n                    <label className={styleCss.fileGroup}>Attache Book File</label>\r\n                    <input type=\"file\" id=\"acnu\" name=\"image\" onChange={handleChange} className={styleCss.input1} />\r\n                    <button className={styleCss.tambah} type=\"submit\" id=\"acnu\" >Add Book</button>\r\n                </form>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddBookPage;"]},"metadata":{},"sourceType":"module"}